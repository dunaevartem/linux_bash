# auto_archive.sh
__auto_archive.sh__ – это небольшая Bash‑утилита, созданная для того, чтобы быстро создавать резервные копии выбранного каталога и восстанавливать их по требованию.
# Как запустить
Скачайте скрипт \
```git clone https://github.com/dunaevartem/linux_bash.git```

__Сделайте его исполняемым__ \
```chmod +x auto_archive.sh```

__Запустите__ \
```./auto_archive.sh``` \
При первом запуске вы увидите приглашение ввести путь к резервируемому каталогу. После этого скрипт будет работать без дополнительных вводов, пока вы явно не захотите изменить путь.
Скрипт хранит путь к резервируемой папке в простом конфиг‑файле __backup_src__, так что после первого запуска вам не нужно каждый раз вводить путь – просто нажимайте ENTER, чтобы оставить прежний.

# Как работает
__Первый запуск__ \
При первом запуске скрипт попросит ввести путь к каталогу, который нужно архивировать. Вы также увидите пример пути (/home/user/projects/myapp). После ввода путь сохраняется в файле backup_src.

__Повторные запуски__ \
Скрипт читает backup_src. Вы увидите текущий путь и можете либо оставить его, нажав ENTER, либо ввести новый путь. Если вы вводите новый, скрипт проверит, что каталог существует, и обновит конфиг.

__Меню__ \
После загрузки пути выводится простое текстовое меню с тремя вариантами:

* 1 – Архивирование. Скрипт создаёт файл backup_YYYYMMDD_HHMMSS.tar.gz в каталоге ./backup.
* 2 – Восстановление. Сначала отображается список всех архивов, найденных в ./backup. Вы выбираете номер нужного архива, и скрипт разархивирует его в исходный каталог.
* 3 – Выход. Программа завершает работу.



# Что хранится в файле backup_src
Файл backup_src содержит только один строкой путь к каталогу, который вы хотите резервировать. Например:

```/home/user/projects/myapp```
Если вы хотите изменить этот путь, просто перезапустите скрипт и введите новый путь, когда будет предложено.

# Как это выглядит в действии
```$ ./auto_archive.sh
Первый запуск! Пожалуйста, введите путь к каталогу, который нужно резервировать/восстанавливать.
Пример: /home/user/projects/myapp
/home/user/projects/myapp
Путь сохранён в backup_src.

Выберите операцию:
1. Архивирование
2. Восстановление
3. Выход
Введите номер операции: 1
Архивируем /home/user/projects/myapp → ./backup/backup_20240602_123456.tar.gz ...
Резервная копия успешно создана: ./backup/backup_20240602_123456.tar.gz```
Что делать, если архив не создаётся
Убедитесь, что в каталоге ./backup есть место для записи. Скрипт создаёт этот каталог автоматически (mkdir -p ./backup).
Проверьте, что у вас достаточно прав на чтение из исходного каталога и запись в каталог ./backup.
В случае ошибок в выводе скрипта будет сообщение «Ошибка при создании резервной копии!».
Как восстановить
Выберите операцию:
1. Архивирование
2. Восстановление
3. Выход
Введите номер операции: 2
Список доступных архивов:
1. backup_20240602_123456.tar.gz
Введите номер архива для восстановления (x – выйти): 1
Восстанавливаем ./backup/backup_20240602_123456.tar.gz в /home/user/projects/myapp ...
Восстановление завершено.
Выход
Выберите 3 в главном меню, чтобы завершить работу.

auto_archive.sh – простой способ быстро делать резервные копии и восстанавливать их, не усложняя настройку и без сторонних утилит.
